{% extends "base.html" %}
{%load static%}
{% load widget_tweaks %}

{% block content %}
<!-- <div style="margin-top: 30px; margin-left: auto; margin-right: auto;" class="apartment item"> -->

<div class="container-fluid">
  <div class="row">
    <div class="col-lg-4 offset-lg-4 col-sm-6 col-xs-8">
      <div style="margin-top: 39px; margin-bottom: 39px;" class="sidebar_title">Register</div>
      <form class="" method="post">

        {%csrf_token%}
        <div>

          <!-- username -->
          <div style="margin-bottom: 18px">
            {% render_field user_form.username type="email" class="contact_input" placeholder="Your email" %}
            <div class="input_border"></div>
          </div>
          {% if user_form.username.errors %}
          <div class="alert alert-warning">
            <ul>
              {% for error in user_form.username.errors %}
              <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}

          <!-- password1 -->
          <div style="margin-bottom: 18px">
            {% render_field user_form.password1 class="contact_input" placeholder="Your password" %}
            <div class="input_border"></div>
          </div>
          {% if user_form.password1.errors %}
          <div class="alert alert-warning">
            <ul>
              {% for error in user_form.password1.errors %}
              <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}

          <!-- password2 -->
          <div style="margin-bottom: 18px">
            {% render_field user_form.password2 class="contact_input" placeholder="Confirm your password" %}
            <div class="input_border"></div>
          </div>
          {% if user_form.password2.errors %}
          <div class="alert alert-warning">
            <ul>
              {% for error in user_form.password2.errors %}
              <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}

        </div>
        <button type="submit" class="contact_button">Sing-up</button>

      </form>
    </div>
  </div>
</div>

{% endblock %}

{% block main_js%}
<script>
  var password = document.getElementById("id_password1"),
    confirm_password = document.getElementById("id_password2");

  function validatePassword() {
    if (password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  // $("#id_password1").on("change") = validatePassword;
  password.onchange = validatePassword;
  // $("#id_password2").on("keyup") = validatePassword;
  confirm_password.onkeyup = validatePassword;
</script>
{% endblock %}

{% block footer%}
{% endblock %}
